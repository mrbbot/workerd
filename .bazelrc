# build --cxxopt='-std=c++20' --host_cxxopt='-std=c++20' --verbose_failures
# build --cxxopt='-fcoroutines-ts' --host_cxxopt='-fcoroutines-ts'
# build --cxxopt='-stdlib=libc++' --host_cxxopt='-stdlib=libc++'
# build --linkopt='-stdlib=libc++' --host_linkopt='-stdlib=libc++'

# build --cxxopt='/std:c++20' --host_cxxopt='/std:c++20' --verbose_failures
# build --cxxopt='/await' --host_cxxopt='/await'
# build --cxxopt='/TP' --host_cxxopt='/TP'
# build --cxxopt='/wo4503' --host_cxxopt='/wo4503'

# build --action_env=BAZEL_COMPILER=clang
# build --action_env=CC=clang
# build --action_env=CXX=clang++

startup --windows_enable_symlinks
build --enable_runfiles

build --verbose_failures
build --@capnp-cpp//src/kj:openssl=True --@capnp-cpp//src/kj:zlib=True

# Warning options.
# build --cxxopt='-Wall' --host_cxxopt='-Wall'
# build --cxxopt='-Wextra' --host_cxxopt='-Wextra'
# build --cxxopt='-Wno-strict-aliasing' --host_cxxopt='-Wno-strict-aliasing'
# build --cxxopt='-Wno-sign-compare' --host_cxxopt='-Wno-sign-compare'
# build --cxxopt='-Wno-unused-parameter' --host_cxxopt='-Wno-unused-parameter'
# build --cxxopt='-Wno-missing-field-initializers' --host_cxxopt='-Wno-missing-field-initializers'
# build --cxxopt='-Wno-ignored-qualifiers' --host_cxxopt='-Wno-ignored-qualifiers'

# Our dependencies (ICU, zlib, etc.) produce a lot of these warnings, so we disable them.
# TODO(cleanup): Can we disable warnings altogether from our dependencies, without disabling them
#   for workerd?
# build --cxxopt='-Wno-ambiguous-reversed-operator' --host_cxxopt='-Wno-ambiguous-reversed-operator'

# build --cxxopt='-Wno-c++98-compat' --host_cxxopt='-Wno-c++98-compat'
# build --cxxopt='-Wno-c++98-compat-pedantic' --host_cxxopt='-Wno-c++98-compat-pedantic'
# build --cxxopt='-Wno-sign-conversion' --host_cxxopt='-Wno-sign-conversion'
# build --cxxopt='-Wno-zero-as-null-pointer-constant' --host_cxxopt='-Wno-zero-as-null-pointer-constant'
